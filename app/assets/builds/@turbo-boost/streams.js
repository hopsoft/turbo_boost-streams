var g=Object.defineProperty,A=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var d=(t,e,o)=>e in t?g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,E=(t,e)=>{for(var o in e||(e={}))N.call(e,o)&&d(t,o,e[o]);if(v)for(var o of v(e))C.call(e,o)&&d(t,o,e[o]);return t},w=(t,e)=>A(t,x(e));var T="0.1.8";import k from"alpinejs";import S from"@alpinejs/morph";k.plugin(S);var j=/INPUT/i,B=/date|datetime-local|email|month|number|password|range|search|tel|text|time|url|week/i,O=/TEXTAREA/i;function I(t,e,o,r){if(t.nodeType!==Node.ELEMENT_NODE||t!==document.activeElement)return;if(t.tagName.match(O)||t.tagName.match(j)&&t.getAttribute("type").match(B))return r()}function p(t,e){k.morph(t,e,{updating:I})}var u={before:"turbo-boost:stream:before-invoke",after:"turbo-boost:stream:after-invoke",finish:"turbo-boost:stream:finish-invoke"};function m(t,e,o){let{object:r,target:i}=t;e=e||{},e=w(E({},e),{object:t.object});let n={detail:e,bubbles:!0};i.dispatchEvent(new CustomEvent(u.before,n));let{delay:s}=e.invoke||{};s=s||0;let a=()=>{let c=o(r);n.detail.result=c,i.dispatchEvent(new CustomEvent(u.after,n));let f;c instanceof Animation&&(f=c.finished),c instanceof Promise&&(f=c),f?f.then(()=>{n.detail.promise="fulfilled",i.dispatchEvent(new CustomEvent(u.finish,n))},()=>{n.detail.promise="rejected",i.dispatchEvent(new CustomEvent(u.finish,n))}):i.dispatchEvent(new CustomEvent(u.finish,n))};s>0?setTimeout(a,s):a()}function M(t,e,o){let r=e[0],i=e[1],n={method:t,eventName:r,eventOptions:i};o.forEach(s=>m(s,n,a=>a.dispatchEvent(new CustomEvent(r,i))))}function D(t,e,o){let r=e[0],i={method:t,html:r};o.forEach(n=>m(n,i,s=>p(s,r)))}function P(t,e,o){let r=t.slice(0,-1).trim(),i=e[0],n={method:t,property:r,value:i};o.forEach(s=>m(s,n,a=>a[r]=i))}function R(t,e,o){let r={method:t,args:e};o.forEach(i=>m(i,r,n=>n[t].apply(n,e)))}function y(t,e,o){return t.match(/^dispatch(Event)?$/)?M(t,e,o):t.match(/^morph|mutate$/)?D(t,e,o):t.endsWith("=")?P(t,e,o):R(t,e,o)}function l(){let t=JSON.parse(this.templateContent.textContent),{id:e,selector:o,receiver:r,method:i,args:n,delay:s}=t,a=[{object:self,target:self}];o&&(a=Array.from(document.querySelectorAll(o)).map(c=>({object:c,target:c}))),r&&(a=a.map(c=>{let{object:f,target:h}=c,b=r.split(".");for(;b.length>0;)f=f[b.shift()],f.dispatchEvent&&(h=f);return{object:f,target:h}})),s>0?setTimeout(()=>y(i,n,a),s):y(i,n,a)}if(!self.Turbo)throw new Error("`Turbo` is not defined! Be sure to import `@turbo-boost/streams` after `@hotwired/turbo` or `@hotwired/turbo-rails`.");if(!Turbo.StreamActions)throw new Error("`Turbo.StreamActions` is not defined! Verify that you are running >= `7.2.0` of `@hotwired/turbo`.");Turbo.StreamActions.invoke=l;self.TurboBoost=self.TurboBoost||{};self.TurboBoost.Streams={invoke:l,invokeEvents:u,VERSION:T};console.info("@turbo-boost/streams has initialized and registered new stream actions with Turbo.");var F=self.TurboBoost.Streams;export{F as default};
//# sourceMappingURL=streams.js.map
