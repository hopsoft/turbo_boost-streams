var y=Object.defineProperty,g=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var d=(t,e,o)=>e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,E=(t,e)=>{for(var o in e||(e={}))x.call(e,o)&&d(t,o,e[o]);if(v)for(var o of v(e))C.call(e,o)&&d(t,o,e[o]);return t},w=(t,e)=>g(t,A(e));import T from"alpinejs";import N from"@alpinejs/morph";T.plugin(N);var S=/INPUT/i,j=/date|datetime-local|email|month|number|password|range|search|tel|text|time|url|week/i,B=/TEXTAREA/i;function M(t,e,o,r){if(t.nodeType!==Node.ELEMENT_NODE||t!==document.activeElement)return;if(t.tagName.match(B)||t.tagName.match(S)&&t.getAttribute("type").match(j))return r()}function p(t,e){T.morph(t,e,{updating:M})}var u={before:"turbo-boost:stream:before-invoke",after:"turbo-boost:stream:after-invoke",finish:"turbo-boost:stream:finish-invoke"};function m(t,e,o){let{object:r,target:i}=t;e=e||{},e=w(E({},e),{object:t.object});let n={detail:e,bubbles:!0};i.dispatchEvent(new CustomEvent(u.before,n));let{delay:s}=e.invoke||{};s=s||0;let a=()=>{let c=o(r);n.detail.result=c,i.dispatchEvent(new CustomEvent(u.after,n));let f;c instanceof Animation&&(f=c.finished),c instanceof Promise&&(f=c),f?f.then(()=>{n.detail.promise="fulfilled",i.dispatchEvent(new CustomEvent(u.finish,n))},()=>{n.detail.promise="rejected",i.dispatchEvent(new CustomEvent(u.finish,n))}):i.dispatchEvent(new CustomEvent(u.finish,n))};s>0?setTimeout(a,s):a()}function O(t,e,o){let r=e[0],i=e[1],n={method:t,eventName:r,eventOptions:i};o.forEach(s=>m(s,n,a=>a.dispatchEvent(new CustomEvent(r,i))))}function I(t,e,o){let r=e[0],i={method:t,html:r};o.forEach(n=>m(n,i,s=>p(s,r)))}function D(t,e,o){let r=t.slice(0,-1).trim(),i=e[0],n={method:t,property:r,value:i};o.forEach(s=>m(s,n,a=>a[r]=i))}function P(t,e,o){let r={method:t,args:e};o.forEach(i=>m(i,r,n=>n[t].apply(n,e)))}function k(t,e,o){return t.match(/^dispatch(Event)?$/)?O(t,e,o):t.match(/^morph|mutate$/)?I(t,e,o):t.endsWith("=")?D(t,e,o):P(t,e,o)}function l(){let t=JSON.parse(this.templateContent.textContent),{id:e,selector:o,receiver:r,method:i,args:n,delay:s}=t,a=[{object:self,target:self}];o&&(a=Array.from(document.querySelectorAll(o)).map(c=>({object:c,target:c}))),r&&(a=a.map(c=>{let{object:f,target:h}=c,b=r.split(".");for(;b.length>0;)f=f[b.shift()],f.dispatchEvent&&(h=f);return{object:f,target:h}})),s>0?setTimeout(()=>k(i,n,a),s):k(i,n,a)}if(!self.Turbo)throw new Error("`Turbo` is not defined! Be sure to import `@turbo-boost/streams` after `@hotwired/turbo` or `@hotwired/turbo-rails`.");if(!Turbo.StreamActions)throw new Error("`Turbo.StreamActions` is not defined! Verify that you are running >= `7.2.0` of `@hotwired/turbo`.");Turbo.StreamActions.invoke=l;self.TurboBoost=self.TurboBoost||{};self.TurboBoost.Streams={invoke:l,invokeEvents:u};console.info("@turbo-boost/streams has initialized and registered new stream actions with Turbo.");var W=self.TurboBoost.Streams;export{W as default};
//# sourceMappingURL=streams.js.map
